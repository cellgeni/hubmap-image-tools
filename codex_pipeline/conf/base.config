
process {

    maxRetries = 2
    maxErrors = '-1'
    errorStrategy = 'terminate'


    // Process-specific parameters

    withName: 'setup_data_directory' {
        container = "quay.io/mkeays/hubmap-image-tools"
    }

    withName: 'create_yaml_config' {
        container = "quay.io/mkeays/hubmap-image-tools"
    }

    withName: 'run_cytokit_processor' {
		// Not sure how much time would be needed but definitely longer than the
    	// default of one hour for some datasets.
    	clusterOptions = "-p GPU --gres=gpu:k80:2 --mem=0 -t 4:00:00"
        container = "eczech/cytokit:latest"
    }
}
